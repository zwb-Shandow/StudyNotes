# 容器

> 用来管理某类对象的集合，各种数据结构

## 1. 序列式容器

> 序列式容器（Sequence containers），此为**可序群集**，其中每个元素均有固定位置—**取决于插入时机和地点，和元素值无关**。如果你以追加方式对一个群集插入六个元素，它们的排列次序将和插入次序一致。STL提供了三个序列式容器：向量（vector）、双端队列（deque）、列表（list），此外也可以把 string 和 array 当做一种序列式容器。

### 1.1 vector

- vector 与 array 唯一区别为空间运用的灵活性，array 是静态空间，一旦配置了就不可改变
- **连续线性空间**
- **动态扩容**，如果超过当时的容量，则容量会扩充至两倍
  - 配置一块更大空间
  - 将原内容拷贝过去
  - 释放原空间

#### 1.1.1 元素修改

vector 提供两类增加元素的方法，

- insert/push_back
- emplace/emplace_back

最直接区别为 emplace 类方法支持 vector 内部直接构造数据，减少拷贝或移动。

**使用建议:**

- 左值用 `push_back`
- 右值用 `emplace_back`，push_back(T&&) 实现最终也是调用了 emplace_back(T&&)
- 局部变量尽量使用 `emplace_back` in-place 构建，不要先构建再拷贝或移动

#### 1.1.2 元素查询



## 2. 关联式容器

> 关联式容器（Associative containers），此为**已序群集**，元素位置取决于特定的排序准则以及元素值，和插入次序无关。如果你将六个元素置入这样的群集中，它们的**位置取决于元素值，和插入次序无关**。STL提供了四个关联式容器：集合（set）、多重集合（multiset）、映射（map）和多重映射（multimap）。



| 容器   | 底层数据结构 | 时间复杂度                             | 有序 | 可重复 | 适用场景                                                   |
| ------ | ------------ | -------------------------------------- | ---- | ------ | ---------------------------------------------------------- |
| vector | 数组         | 随机读改、尾部增删 O(1)、头部增删 O(n) | ✘    | ✔      | 适用于对象简单，变化较小，并且频繁随机访问的场景           |
| deque  | 双端队列     | 头尾增删 O(1)                          | ✘    | ✔      | 适用于既要频繁随机存取，又要关心两端数据的插入与删除的场景 |
| list   | 双向链表     | 随机插入、删除 O(1)                    | ✘    | ✔      | 适用于经常进行插入和删除操作并且不经常随机访问的场景       |

## 参考链接

[1] [基础篇：STL容器和算法](https://zhuanlan.zhihu.com/p/158647883)

[2] [STL 容器 (一) - 基本介紹](https://jasonblog.github.io/note/c++/stl_rong_qi_4e0029_-_ji_ben_jie_shao.html)

[3] [emplace_back VS push_back](https://blog.csdn.net/u013834525/article/details/104047635)
